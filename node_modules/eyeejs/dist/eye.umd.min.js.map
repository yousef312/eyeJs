{"version":3,"file":"eye.umd.min.js","sources":["../src/eye.js"],"sourcesContent":["// import jcall from \"jcall\";\r\n\r\n/**\r\n * @typedef {Object} AttrMap\r\n * @property {HTMLDivElement} parent - append newly created element to a parent\r\n * @property {Array<String>|String} class - class or array of classes to set \r\n * @property {String} id - set element ID\r\n * @property {Object} data - dataset values to set\r\n * @property {String} text - set element text\r\n * @property {String} html - set element html\r\n * @property {{ request: String, data: Object, callback: Function}} refresh - attached a refreshable context\r\n * \r\n */\r\n\r\n/**\r\n * @typedef {Object} EyeElement\r\n * @property {(tag: String, attrs: AttrMap) => EyeElement} eye - The main function to create or select elements.\r\n * @property {(set_to?: string) => EyeElement} show - Show the element, optional customize the display value, inline-bloc, bloc.... .\r\n * @property {() => EyeElement} hide - Hide the element.\r\n * @property {(index: number) => EyeElement} child - Function to get a child element by index.\r\n * @property {(key: String, value: *) => EyeElement} refer - Set or get a hidden WeakMap attributes\r\n * @property {(key: String, subfind: number) => EyeElement} unrefer - Remove/unset a WeakMap attributes, optionally `subfind` it if array is set!\r\n * @property {(event: String, callback: Function) => EyeElement} on - Attach an event listener to `event`\r\n * @property {(parent: HTMLElement) => EyeElement} appendTo - Append this element to an other\r\n * @property {(key: String, value: String) => EyeElement|String} attr - Set or get a value of certain attribute\r\n * @property {(key: String, value: String) => EyeElement|string} css - Modify or get element style\r\n * @property {(key: string, value: string) => DOMStringMap|string} data - Set or get a dataset value of the attribute\r\n * @property {(value: String) => EyeElement|string} text - Set or get elements text content\r\n * @property {(value: String) => EyeElement|string} html - Set or get elements html content\r\n * @property {Function} [eventName] - Functions for various events (e.g., click, focus, etc.).\r\n * @property {boolean} isEyeInstance - Flag to check if the element is an Eye instance.\r\n * @property {(action: String, value: String, opt?: String)=> boolean} class - perform class manipulation\r\n * @property {*} refresh - under consrtuction\r\n */\r\n\r\n\r\nconst events = [\r\n  // Mouse Events\r\n  \"click\",\r\n  \"dblclick\",\r\n  \"mousedown\",\r\n  \"mouseup\",\r\n  \"mousemove\",\r\n  \"mouseenter\",\r\n  \"mouseleave\",\r\n  \"mouseover\",\r\n  \"mouseout\",\r\n  \"contextmenu\",\r\n\r\n  // Keyboard Events\r\n  \"keydown\",\r\n  \"keypress\", // Deprecated\r\n  \"keyup\",\r\n\r\n  // Focus Events\r\n  \"focus\",\r\n  \"blur\",\r\n  \"focusin\",\r\n  \"focusout\",\r\n\r\n  // Form Events\r\n  \"submit\",\r\n  \"change\",\r\n  \"input\",\r\n  \"reset\",\r\n  \"select\",\r\n\r\n  // Touch Events (for mobile)\r\n  \"touchstart\",\r\n  \"touchend\",\r\n  \"touchmove\",\r\n  \"touchcancel\",\r\n\r\n  // Pointer Events\r\n  \"pointerdown\",\r\n  \"pointerup\",\r\n  \"pointermove\",\r\n  \"pointerenter\",\r\n  \"pointerleave\",\r\n  \"pointercancel\",\r\n\r\n  // Drag and Drop Events\r\n  \"dragstart\",\r\n  \"dragend\",\r\n  \"dragenter\",\r\n  \"dragover\",\r\n  \"dragleave\",\r\n  \"drop\",\r\n\r\n  // Window/Document Events\r\n  \"resize\",\r\n  \"scroll\",\r\n  \"load\",\r\n  \"beforeunload\",\r\n  \"unload\",\r\n\r\n  // Media Events\r\n  \"play\",\r\n  \"pause\",\r\n  \"ended\",\r\n  \"volumechange\",\r\n  \"timeupdate\",\r\n\r\n  // Clipboard Events\r\n  \"copy\",\r\n  \"cut\",\r\n  \"paste\",\r\n\r\n  // Animation and Transition Events\r\n  \"animationstart\",\r\n  \"animationend\",\r\n  \"animationiteration\",\r\n  \"transitionstart\",\r\n  \"transitionend\",\r\n\r\n  // Mutation Events\r\n  \"DOMSubtreeModified\",\r\n  \"DOMNodeInserted\",\r\n  \"DOMNodeRemoved\",\r\n\r\n  // Other Events\r\n  \"error\",\r\n  \"hashchange\",\r\n  \"popstate\",\r\n];\r\nconst triggerableEvents = [\"click\", \"focus\", \"blur\", \"play\", \"pause\", \"submit\"];\r\n\r\nconst htmlElements = [\r\n  // Metadata\r\n  \"base\",\r\n  \"head\",\r\n  \"link\",\r\n  \"meta\",\r\n  \"style\",\r\n  \"title\",\r\n\r\n  // Sections\r\n  \"body\",\r\n  \"address\",\r\n  \"article\",\r\n  \"aside\",\r\n  \"footer\",\r\n  \"header\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"main\",\r\n  \"nav\",\r\n  \"section\",\r\n\r\n  // Text content\r\n  \"blockquote\",\r\n  \"dd\",\r\n  \"div\",\r\n  \"dl\",\r\n  \"dt\",\r\n  \"figcaption\",\r\n  \"figure\",\r\n  \"hr\",\r\n  \"li\",\r\n  \"ol\",\r\n  \"p\",\r\n  \"pre\",\r\n  \"ul\",\r\n\r\n  // Inline text semantics\r\n  \"a\",\r\n  \"abbr\",\r\n  \"b\",\r\n  \"bdi\",\r\n  \"bdo\",\r\n  \"br\",\r\n  \"cite\",\r\n  \"code\",\r\n  \"data\",\r\n  \"dfn\",\r\n  \"em\",\r\n  \"i\",\r\n  \"kbd\",\r\n  \"mark\",\r\n  \"q\",\r\n  \"rp\",\r\n  \"rt\",\r\n  \"ruby\",\r\n  \"s\",\r\n  \"samp\",\r\n  \"small\",\r\n  \"span\",\r\n  \"strong\",\r\n  \"sub\",\r\n  \"sup\",\r\n  \"time\",\r\n  \"u\",\r\n  \"var\",\r\n  \"wbr\",\r\n\r\n  // Image and multimedia\r\n  \"area\",\r\n  \"audio\",\r\n  \"img\",\r\n  \"map\",\r\n  \"track\",\r\n  \"video\",\r\n\r\n  // Embedded content\r\n  \"embed\",\r\n  \"iframe\",\r\n  \"object\",\r\n  \"picture\",\r\n  \"portal\",\r\n  \"source\",\r\n\r\n  // Scripting\r\n  \"canvas\",\r\n  \"noscript\",\r\n  \"script\",\r\n\r\n  // Demarcating edits\r\n  \"del\",\r\n  \"ins\",\r\n\r\n  // Table content\r\n  \"caption\",\r\n  \"col\",\r\n  \"colgroup\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"td\",\r\n  \"tfoot\",\r\n  \"th\",\r\n  \"thead\",\r\n  \"tr\",\r\n\r\n  // Forms\r\n  \"button\",\r\n  \"datalist\",\r\n  \"fieldset\",\r\n  \"form\",\r\n  \"input\",\r\n  \"label\",\r\n  \"legend\",\r\n  \"meter\",\r\n  \"optgroup\",\r\n  \"option\",\r\n  \"output\",\r\n  \"progress\",\r\n  \"select\",\r\n  \"textarea\",\r\n\r\n  // Interactive elements\r\n  \"details\",\r\n  \"dialog\",\r\n  \"summary\",\r\n\r\n  // Web components / scripting base\r\n  \"slot\",\r\n  \"template\",\r\n];\r\nconst hiddenAttributes = new WeakMap();\r\n\r\nfunction flat(word) {\r\n  let n = \"\";\r\n  for (let i = 0; i < word.length; i++) {\r\n    const t = word[i];\r\n    if (t === t.toUpperCase() && t !== t.toLowerCase()) n += \"-\" + t;\r\n    else n += t;\r\n  }\r\n  return n.toLowerCase();\r\n}\r\n/**\r\n * Creates or select nodes using css selectors, offering a pack of useful functions to use around your code!\r\n * @param {String} tag \r\n * @param {AttrMap} attrs \r\n * @param {*} css CSS styles to be applied to the element.\r\n * @returns \r\n */\r\nfunction eye(tag, attrs, css) {\r\n  if (css instanceof Array) children = css;\r\n  /**\r\n   * @type {EyeElement}\r\n   */\r\n  let elm,\r\n    selectFunc = \"querySelector\",\r\n    parent = this === undefined || this instanceof Window ? document : this;\r\n\r\n  if (tag instanceof HTMLElement) elm = tag;\r\n  else {\r\n    // there is three cases\r\n    if (attrs && attrs.all === true)\r\n      // CASE 1: parent is not docuement & all=true\r\n      selectFunc = \"querySelectorAll\";\r\n    if (parent == document && htmlElements.indexOf(tag) != -1)\r\n      // CASE 3: parent is document & user input a tag name\r\n      selectFunc = \"createElement\";\r\n\r\n    elm = parent[selectFunc](tag);\r\n  }\r\n\r\n  if (elm instanceof NodeList) {\r\n    elm.forEach((nd) => eye(nd));\r\n    // for nodelist there's some other available functions\r\n    return [...elm];\r\n  }\r\n\r\n  if (!elm) return null;\r\n  if (elm.isEyeInstance) return elm;\r\n\r\n  elm.isEyeInstance = true;\r\n  // adding a very special function\r\n  elm.eye = eye;\r\n\r\n  // adding the element itself\r\n  // usuage:\r\n  // item.set(\"id=menu-item\",\"contentEditable=true\",\"data-index=15\",...);\r\n  elm.set = function (value, ...args) {\r\n    args.push(value);\r\n    args.forEach((arg) => {\r\n      if (arg.indexOf(\"=\") != -1) {\r\n        const [key, val] = arg.split(\"=\");\r\n        if (key.indexOf('data-') === 0) {\r\n          this.dataset[flat(key.replace('data-', ''))] = val;\r\n        } else {\r\n          this.setAttribute(key, val);\r\n        }\r\n      } else if (arg.indexOf(\":\") != -1) {\r\n        const [key, val] = arg.split(\":\");\r\n        this.style[flat(key)] = val;\r\n      } else this.setAttribute(arg, \"\");\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  elm.class = function (action, value, opt) {\r\n    if (!value) {\r\n      // single param\r\n      // maybe using some intelligent markup? (%-)\r\n      // possible markup\r\n      // \"-classname\" remove classname\r\n      // \"%classname\" toggle classname\r\n      // \"?classname\" contains? classname\r\n      // \"oldclass/newclass\" replace oldclass by newclass\r\n      // number(1,2,3..) returns the class at the specified index\r\n      // \"classname\" add classname\r\n      if (typeof action === \"number\") {\r\n        value = action;\r\n        action = \"get\";\r\n      } else if (action[0] == \"-\") {\r\n        value = action.substring(1, action.length);\r\n        action = \"remove\";\r\n      } else if (action[0] == \"%\") {\r\n        value = action.substring(1, action.length);\r\n        action = \"toggle\";\r\n      } else if (action[0] == \"?\") {\r\n        value = action.substring(1, action.length);\r\n        action = \"contains\";\r\n      } else if (action.indexOf('/') != -1) {\r\n        [value, opt] = action.split('/');\r\n        action = \"replace\";\r\n      } else {\r\n        value = action;\r\n        action = \"add\";\r\n      }\r\n    }\r\n\r\n    let result = this;\r\n    switch (action) {\r\n      case \"add\":\r\n        this.classList.add(value.substring(1, value.length));\r\n        break;\r\n      case \"remove\":\r\n        this.classList.remove(value.substring(1, value.length));\r\n        break;\r\n      case \"toggle\":\r\n        this.classList.toggle(value.substring(1, value.length), true);\r\n        break;\r\n      case \"replace\":\r\n        this.classList.replace(value.substring(1, value.length), opt);\r\n        break;\r\n      case \"contains\":\r\n        result = this.classList.contains(value.substring(1, value.length));\r\n        break;\r\n      case \"get\":\r\n        result = this.classList.item(value);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  elm.show = function (set_to) {\r\n    this.style.display = set_to || \"\";\r\n    return this;\r\n  };\r\n\r\n  elm.hide = function () {\r\n    this.style.display = \"none\";\r\n    return this;\r\n  };\r\n\r\n  elm.child = function (index) {\r\n    return this.children[index] ? eye(this.children[index]) : null;\r\n  };\r\n\r\n  elm.refer = function (key, value) {\r\n    if (value !== undefined) {\r\n      let attr = hiddenAttributes.get(this);\r\n      if (!attr) {\r\n        attr = {};\r\n        hiddenAttributes.set(this, attr);\r\n      }\r\n\r\n      // now a small check\r\n      if (value instanceof Array) {\r\n        // if value is instance of array means we're defining an array property of adding to one\r\n        if (attr[key] instanceof Array) attr[key].push(value[0]);\r\n        else attr[key] = [value[0]];\r\n      } else attr[key] = value;\r\n      return this;\r\n    } else return hiddenAttributes.get(this)?.[key];\r\n  };\r\n  elm.unrefer = function (key, subfind) {\r\n    let attr = hiddenAttributes.get(this);\r\n    if (attr) {\r\n      if (!subfind && typeof key === \"string\" && attr[key])\r\n        attr[key] = undefined;\r\n      else if (typeof subfind === \"function\" && attr[key] instanceof Array)\r\n        attr[key].forEach((item, i, arr) => {\r\n          if (subfind(item) === true) {\r\n            arr.splice(i, 1);\r\n            i--;\r\n          }\r\n        });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  // re-assinging events handling system\r\n  events.forEach((ev) => {\r\n    var old;\r\n    if (typeof elm[ev] == \"function\") {\r\n      old = elm[ev];\r\n    }\r\n    elm[ev] = function (cb) {\r\n      if (cb) {\r\n        if (typeof cb == \"function\") elm.addEventListener(ev, cb);\r\n      } else old.call(elm);\r\n      return this;\r\n    };\r\n  });\r\n\r\n  elm.on = function (evs, listener) {\r\n    evs = evs.split(' ');\r\n    for (let j = 0; j < evs.length; j++) elm.addEventListener(evs[j], listener);\r\n    return this;\r\n  };\r\n\r\n  elm.appendTo = function (parent) {\r\n    if (parent) parent.append(this);\r\n    return this;\r\n  };\r\n\r\n  elm.attr = function (key, value) {\r\n    if (key) {\r\n      if (value) this.setAttribute(key, value);\r\n      else return this.getAttribute(key);\r\n    }\r\n    return this;\r\n  };\r\n\r\n  elm.css = function (key, value) {\r\n    // usuage is wide customizable\r\n    if (key) {\r\n      if (value) elm.style[flat(key)] = value;\r\n      else return this.style[flat(key)];\r\n    }\r\n    return this;\r\n  }\r\n\r\n  elm.data = function (key, value) {\r\n    if (key) {\r\n      if (value) this.dataset[key] = value;\r\n      else return this.dataset[key];\r\n    }\r\n    return this.dataset;\r\n  }\r\n\r\n  elm.text = function (value) {\r\n    if (value) this.textContent = value;\r\n    else return this.textContent;\r\n    return this\r\n  }\r\n\r\n  elm.html = function (value) {\r\n    if (value) this.innerHTML = value;\r\n    else return this.innerHTML;\r\n    return this\r\n  }\r\n\r\n  // setting attributes & css\r\n  let parentElm = null;\r\n  // let refresh = null;\r\n  if (attrs)\r\n    for (const key in attrs) {\r\n      const value = attrs[key];\r\n      if (key == \"class\")\r\n        elm.classList.add.apply(\r\n          elm.classList,\r\n          value instanceof Array ? value : [value]\r\n        );\r\n      else if (key == \"text\") elm.textContent = value;\r\n      else if (key == \"html\") elm.innerHTML = value;\r\n      else if (key == \"data\") for (const k in value) elm.dataset[k] = value[k];\r\n      else if (key == \"parent\") parentElm = value;\r\n      // else if (key == \"refresh\") refresh = value;\r\n      else if (key in elm) elm[key] = value;\r\n      else elm.setAttribute(key, elm);\r\n    }\r\n  if (css)\r\n    for (const key in css)\r\n      if (key.indexOf(\"-\") != -1) elm.style[key] = css[key];\r\n      else elm.style[flat(key)] = css[key];\r\n\r\n\r\n  // under construction\r\n  // elm.refresh = function () {\r\n  //   if (refresh) {\r\n  //     const { request, data, callback } = refresh;\r\n  //     if (typeof data === \"function\") data = data();\r\n  //     jcall(request)\r\n  //       .launch(data)\r\n  //       .then(res => {\r\n  //         callback(undefined, res);\r\n  //       }).catch(e => {\r\n  //         callback(e);\r\n  //       })\r\n  //   }\r\n  // }\r\n\r\n  if (parentElm) parentElm.append(elm);\r\n  return elm;\r\n}\r\n\r\n// gloablly exposed\r\nwindow.eye = eye;\r\nexport default eye;\r\n"],"names":["events","htmlElements","hiddenAttributes","WeakMap","flat","word","n","i","length","t","toUpperCase","toLowerCase","eye","tag","attrs","css","Array","children","elm","selectFunc","parent","undefined","this","Window","document","HTMLElement","all","indexOf","NodeList","forEach","nd","isEyeInstance","set","value","args","push","arg","key","val","split","dataset","replace","setAttribute","style","class","action","opt","substring","result","classList","add","remove","toggle","contains","item","show","set_to","display","hide","child","index","refer","attr","get","unrefer","subfind","arr","splice","ev","old","cb","addEventListener","call","on","evs","listener","j","appendTo","append","getAttribute","data","text","textContent","html","innerHTML","parentElm","apply","k","window"],"mappings":"oOAoCA,MAAMA,EAAS,CAEb,QACA,WACA,YACA,UACA,YACA,aACA,aACA,YACA,WACA,cAGA,UACA,WACA,QAGA,QACA,OACA,UACA,WAGA,SACA,SACA,QACA,QACA,SAGA,aACA,WACA,YACA,cAGA,cACA,YACA,cACA,eACA,eACA,gBAGA,YACA,UACA,YACA,WACA,YACA,OAGA,SACA,SACA,OACA,eACA,SAGA,OACA,QACA,QACA,eACA,aAGA,OACA,MACA,QAGA,iBACA,eACA,qBACA,kBACA,gBAGA,qBACA,kBACA,iBAGA,QACA,aACA,YAIIC,EAAe,CAEnB,OACA,OACA,OACA,OACA,QACA,QAGA,OACA,UACA,UACA,QACA,SACA,SACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,MACA,UAGA,aACA,KACA,MACA,KACA,KACA,aACA,SACA,KACA,KACA,KACA,IACA,MACA,KAGA,IACA,OACA,IACA,MACA,MACA,KACA,OACA,OACA,OACA,MACA,KACA,IACA,MACA,OACA,IACA,KACA,KACA,OACA,IACA,OACA,QACA,OACA,SACA,MACA,MACA,OACA,IACA,MACA,MAGA,OACA,QACA,MACA,MACA,QACA,QAGA,QACA,SACA,SACA,UACA,SACA,SAGA,SACA,WACA,SAGA,MACA,MAGA,UACA,MACA,WACA,QACA,QACA,KACA,QACA,KACA,QACA,KAGA,SACA,WACA,WACA,OACA,QACA,QACA,SACA,QACA,WACA,SACA,SACA,WACA,SACA,WAGA,UACA,SACA,UAGA,OACA,YAEIC,EAAmB,IAAIC,QAE7B,SAASC,EAAKC,GACZ,IAAIC,EAAI,GACR,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpC,MAAME,EAAIJ,EAAKE,GACXE,IAAMA,EAAEC,eAAiBD,IAAMA,EAAEE,cAAeL,GAAK,IAAMG,EAC1DH,GAAKG,CACX,CACD,OAAOH,EAAEK,aACX,CAQA,SAASC,EAAIC,EAAKC,EAAOC,GACnBA,aAAeC,QAAOC,SAAWF,GAIrC,IAAIG,EACFC,EAAa,gBACbC,OAA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"}