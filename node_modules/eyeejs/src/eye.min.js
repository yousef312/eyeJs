const events=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","keydown","keypress","keyup","focus","blur","focusin","focusout","submit","change","input","reset","select","touchstart","touchend","touchmove","touchcancel","pointerdown","pointerup","pointermove","pointerenter","pointerleave","pointercancel","dragstart","dragend","dragenter","dragover","dragleave","drop","resize","scroll","load","beforeunload","unload","play","pause","ended","volumechange","timeupdate","copy","cut","paste","animationstart","animationend","animationiteration","transitionstart","transitionend","DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","error","hashchange","popstate"],triggerableEvents=["click","focus","blur","play","pause","submit"],htmlElements=["base","head","link","meta","style","title","body","address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rp","rt","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","area","audio","img","map","track","video","embed","iframe","object","picture","portal","source","canvas","noscript","script","del","ins","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","button","datalist","fieldset","form","input","label","legend","meter","optgroup","option","output","progress","select","textarea","details","dialog","summary","slot","template"],hiddenAttributes=new WeakMap;function flat(t){let e="";for(let n=0;n<t.length;n++){const s=t[n];s===s.toUpperCase()&&s!==s.toLowerCase()?e+="-"+s:e+=s}return e.toLowerCase()}function eye(t,e,n){n instanceof Array&&(children=n);let s,i="querySelector",r=void 0===this||this instanceof Window?document:this;if(t instanceof HTMLElement?s=t:(e&&!0===e.all&&(i="querySelectorAll"),r==document&&-1!=htmlElements.indexOf(t)&&(i="createElement"),s=r[i](t)),s instanceof NodeList)return s.forEach((t=>eye(t))),[...s];if(!s)return null;if(s.isEyeInstance)return s;s.isEyeInstance=!0,s.eye=eye,s.set=function(t,...e){return e.push(t),e.forEach((t=>{if(-1!=t.indexOf("=")){const[e,n]=t.split("=");0===e.indexOf("data-")?this.dataset[flat(e.replace("data-",""))]=n:this.setAttribute(e,n)}else if(-1!=t.indexOf(":")){const[e,n]=t.split(":");this.style[flat(e)]=n}else this.setAttribute(t,"")})),this},s.class=function(t,e,n){e||("number"==typeof t?(e=t,t="get"):"-"==t[0]?(e=t.substring(1,t.length),t="remove"):"%"==t[0]?(e=t.substring(1,t.length),t="toggle"):"?"==t[0]?(e=t.substring(1,t.length),t="contains"):-1!=t.indexOf("/")?([e,n]=t.split("/"),t="replace"):(e=t,t="add"));let s=this;switch(t){case"add":this.classList.add(e.substring(1,e.length));break;case"remove":this.classList.remove(e.substring(1,e.length));break;case"toggle":this.classList.toggle(e.substring(1,e.length),!0);break;case"replace":this.classList.replace(e.substring(1,e.length),n);break;case"contains":s=this.classList.contains(e.substring(1,e.length));break;case"get":s=this.classList.item(e)}return s},s.show=function(t){return this.style.display=t||"",this},s.hide=function(){return this.style.display="none",this},s.child=function(t){return this.children[t]?eye(this.children[t]):null},s.refer=function(t,e){if(void 0!==e){let n=hiddenAttributes.get(this);return n||(n={},hiddenAttributes.set(this,n)),e instanceof Array?n[t]instanceof Array?n[t].push(e[0]):n[t]=[e[0]]:n[t]=e,this}return hiddenAttributes.get(this)?.[t]},s.unrefer=function(t,e){let n=hiddenAttributes.get(this);return n&&(!e&&"string"==typeof t&&n[t]?n[t]=void 0:"function"==typeof e&&n[t]instanceof Array&&n[t].forEach(((t,n,s)=>{!0===e(t)&&(s.splice(n,1),n--)}))),this},events.forEach((t=>{var e;"function"==typeof s[t]&&(e=s[t]),s[t]=function(n){return n?"function"==typeof n&&s.addEventListener(t,n):e.call(s),this}})),s.on=function(t,e){t=t.split(" ");for(let n=0;n<t.length;n++)s.addEventListener(t[n],e);return this},s.appendTo=function(t){return t&&t.append(this),this},s.attr=function(t,e){if(t){if(!e)return this.getAttribute(t);this.setAttribute(t,e)}return this},s.css=function(t,e){if(t){if(!e)return this.style[flat(t)];s.style[flat(t)]=e}return this},s.data=function(t,e){if(t){if(!e)return this.dataset[t];this.dataset[t]=e}return this.dataset},s.text=function(t){return t?(this.textContent=t,this):this.textContent},s.html=function(t){return t?(this.innerHTML=t,this):this.innerHTML};let a=null;if(e)for(const t in e){const n=e[t];if("class"==t)s.classList.add.apply(s.classList,n instanceof Array?n:[n]);else if("text"==t)s.textContent=n;else if("html"==t)s.innerHTML=n;else if("data"==t)for(const t in n)s.dataset[t]=n[t];else"parent"==t?a=n:t in s?s[t]=n:s.setAttribute(t,s)}if(n)for(const t in n)-1!=t.indexOf("-")?s.style[t]=n[t]:s.style[flat(t)]=n[t];return a&&a.append(s),s}window.eye=eye;export default eye;