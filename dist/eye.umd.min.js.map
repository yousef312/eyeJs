{"version":3,"file":"eye.umd.min.js","sources":["../node_modules/jcall/dist/jcall.esm.js","../src/eye.js"],"sourcesContent":["function isObjectLiteral(obj) {\r\n  return (\r\n    typeof obj === \"object\" &&\r\n    obj !== null &&\r\n    Object.prototype.toString.call(obj) === \"[object Object]\"\r\n  );\r\n}\r\n\r\nconst METHODS = [\"put\", \"delete\", \"post\", \"get\", \"patch\"];\r\nconst local_noop = () => { }; // no operation fn\r\nconst FETCH_SUPPORT = typeof fetch === \"function\";\r\n\r\nclass FetchError extends Error {\r\n  constructor(message, status, statusText, response) {\r\n    super(message); // Pass the message to the parent (Error) constructor\r\n    this.name = this.constructor.name;\r\n    this.status = status || null;\r\n    this.statusText = statusText || null;\r\n    this.stack = new Error().stack;\r\n    this.response = response;\r\n  }\r\n}\r\n\r\nfunction getHeaders(object) {\r\n  const headers = {};\r\n  if (typeof object === \"string\") {\r\n    // Split headers into an object\r\n    object\r\n      .trim()\r\n      .split(/[\\r\\n]+/)\r\n      .forEach((line) => {\r\n        const parts = line.split(\": \");\r\n        const header = parts.shift();\r\n        const value = parts.join(\": \");\r\n        headers[header.toLowerCase()] = value;\r\n      });\r\n  } else if (object.entries) {\r\n    for (let [key, value] of object.entries()) {\r\n      headers[key] = value;\r\n    }\r\n  }\r\n  return headers;\r\n}\r\n\r\n/**\r\n * @typedef {Object} Headers\r\n * @property {String} cache Optionally identify caching mechanisme, must be one of these:\r\n * ```\r\n * const cacheValue = [\"no-cache\", \"no-store\", \"public\", \"private\", \"max-age=*\"]\r\n * ```\r\n * @property {String} accept Optionally identify the type of response you are expecting\r\n * @property {String} contentType Optionally define the contentType, if data provided not the same as contentType the program will adjust it value!\r\n * @property {String} referer the referer of the request\r\n * @property {String} origin the origin of the request\r\n * @property {String} lang the language of the request\r\n * @property {String} authorize the authorization token to be sent with the request\r\n * @property {Boolean} frame the frame options of the request\r\n * @property {String} cookie the cookie to be sent with the request\r\n * @property {Boolean} nosniff the nosniff options of the request\r\n * @property {Boolean} credentials the credentials to be sent with the request\r\n */\r\n\r\n/**\r\n * @typedef {Object} jcallMapControl\r\n * @property {String} type the request type, either `XHR` or `FETCH` depending on supported mechanism\r\n * @property {XMLHttpRequest} xhr the actual xmlHttpRequest used if any\r\n * @property {(msg: String) => jcallMapControl} abort abort the request\r\n * @property {(headers: Headers) => jcallMapControl} setHeaders Optionally add some headers\r\n * @property {function} progress progress callback\r\n * @property {function(): Promise} launch send the request\r\n * @readonly\r\n */\r\n\r\n/**\r\n * Send a synchronized request for a server backend, allowing you to create user-friendly interaction\r\n * with your different `data sources`.\r\n * @param {Object} options Request different options, please read about jcall requests\r\n * @param {String} options.method The method used in the request one of <`POST`,`GET`,`PUT`,`DELETE`, `PATCH`>\r\n * @param {String} options.api the url of the request\r\n * @param {Object|String} options.data the data to be sent with the request\r\n * @param {Object} [options.headers] Optionally provide some headers for the request, example:\r\n * ```\r\n * const headers = {\r\n * 'Content-Type': 'application/json',\r\n * 'Accept': 'application/json',\r\n * }\r\n * jcall({\r\n *  method: 'post',\r\n *  api: '/api',\r\n *  data: {name: 'john'},\r\n *  headers\r\n * })\r\n * ```\r\n * @param {true} [options.async] Optionally set the request to be asynchronous or not\r\n * @param {String} [options.contentType] Optionally provide the content type of the request\r\n * @param {Number} [options.timeout] Optionally limit the request execution time, you can catch timeout errors using:\r\n *  ```\r\n * jcall(..)\r\n * .then(..)\r\n * .catch((errType,error) => {\r\n * if(errType == 'timeout')\r\n * console.error('timeout error',error)\r\n * })\r\n * ```\r\n * @param {String} [options.csrf] the csrf token to be sent with the request\r\n * @param {Function} [options.progress] the progress of the request\r\n * @param {Function} [options.floaded] the function to be called when the request is loaded\r\n * @returns {control}\r\n */\r\nfunction jcall(api, options) {\r\n  if (!api)\r\n    throw new Error(\"An api/url must be defined to send an jcall request!\");\r\n\r\n  options = options || {};\r\n  let method = (options.method || \"post\").toLowerCase();\r\n  let timeout = options.timeout || null;\r\n  let credentials = options.credentials || false;\r\n  let csrf = options.csrf || jcall.csrf;\r\n  let useXHR = options.useXHR || false;\r\n\r\n  // credentials are required to send cookies for csrf protections\r\n  // so let's activate them\r\n  if (csrf) {\r\n    credentials = true;\r\n  }\r\n\r\n  // auto create preventer\r\n  if (jcall.preventer === true) {\r\n    let div = document.createElement('div');\r\n    // applying some style\r\n    div.style.backgroundColor = \"rgba(0,0,0,.2)\";\r\n    div.style.position = \"fixed\";\r\n    div.style.zIndex = \"10000\";\r\n    div.style.left =\r\n      div.style.top = 0;\r\n    div.style.width =\r\n      div.style.height = \"100%\";\r\n    div.style.display = \"none\";\r\n    div.open = function () {\r\n      this.style.display = \"inline\";\r\n    };\r\n    div.close = function () {\r\n      this.style.display = \"none\";\r\n    };\r\n    jcall.preventer = div;\r\n  }\r\n\r\n  // preparing the outline of the request\r\n  let abortController = new AbortController();\r\n  let request = {\r\n    api,\r\n    method: method && METHODS.indexOf(method) != -1 ? method : \"post\",\r\n    credentials: typeof credentials == \"boolean\" ? credentials : false,\r\n    timeout: timeout\r\n      ? timeout < 10\r\n        ? timeout * 1000\r\n        : timeout < 100\r\n          ? timeout * 100\r\n          : timeout < 1000\r\n            ? timeout * 10\r\n            : timeout\r\n      : 0,\r\n    headers: {\r\n      signal: abortController.signal,\r\n    },\r\n    csrf,\r\n  };\r\n  if (jcall.authorization) request.headers[\"authorize\"] = jcall.authorization;\r\n\r\n  function endStatus(status, statusText, response, reject, resolve) {\r\n    switch (status) {\r\n      case 400:\r\n        reject(\r\n          new FetchError(\r\n            400 + \" - Bad Request: The server couldn't understand the request.\",\r\n            400,\r\n            statusText,\r\n            response\r\n          )\r\n        );\r\n        break;\r\n      case 401:\r\n        reject(\r\n          new FetchError(\r\n            401 +\r\n            \" - Unauthorized: Authentication is required, or the provided credentials are incorrect.\",\r\n            401,\r\n            statusText,\r\n            response\r\n          )\r\n        );\r\n        break;\r\n      case 403:\r\n        reject(\r\n          new FetchError(\r\n            403 +\r\n            \" - Forbidden: The server understood the request, but the user doesn't have permission to perform the action.\",\r\n            403,\r\n            statusText,\r\n            response\r\n          )\r\n        );\r\n        break;\r\n      case 404:\r\n        reject(\r\n          new FetchError(\r\n            404 +\r\n            \" - Not Found: The requested resource could not be found on the server.\",\r\n            404,\r\n            statusText,\r\n            response\r\n          )\r\n        );\r\n        break;\r\n      case 500:\r\n        reject(\r\n          new FetchError(\r\n            500 +\r\n            \" - Internal Server Error: The server encountered an unexpected condition.\",\r\n            500,\r\n            statusText,\r\n            response\r\n          )\r\n        );\r\n        break;\r\n      case 502:\r\n        reject(\r\n          new FetchError(\r\n            502 +\r\n            \" - Bad Gateway: The server, while acting as a gateway or proxy, received an invalid response from the upstream server.\",\r\n            502,\r\n            statusText,\r\n            response\r\n          )\r\n        );\r\n        break;\r\n      case 503:\r\n        reject(\r\n          new FetchError(\r\n            503 +\r\n            \" - Service Unavailable: The server is currently unavailable, often due to maintenance or overloading.\",\r\n            503,\r\n            statusText,\r\n            response\r\n          )\r\n        );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * jcall request chaining mechanisme\r\n   * @type {jcallMapControl}\r\n   */\r\n  let control = {\r\n    type: useXHR === true ? \"XHR\" : FETCH_SUPPORT === true ? \"FETCH\" : \"XHR\",\r\n    progress: function () { },\r\n    setHeaders: function (headers) {\r\n      let res = {};\r\n\r\n      // setting some values\r\n      if (\r\n        headers.accept &&\r\n        [\r\n          \"application/json\",\r\n          \"application/xml\",\r\n          \"text/html\",\r\n          \"text/plain\",\r\n          \"*/*\",\r\n        ].indexOf(headers.accept) != -1\r\n      )\r\n        res.accept = headers.accept;\r\n      if (headers.cache) {\r\n        if (typeof headers.cache === \"boolean\")\r\n          if (this.type == \"XHR\")\r\n            res.cache = headers.cache == true ? \"public\" : \"no-cache\";\r\n          else res.cache = headers.cache == true ? \"force-cache\" : \"no-cache\";\r\n        else if (typeof headers.cache == \"string\")\r\n          if (\r\n            this.type == \"XHR\" &&\r\n            ([\"no-cache\", \"no-store\", \"public\", \"private\"].indexOf(\r\n              headers.cache\r\n            ) != -1 ||\r\n              headers.cache.indexOf(\"max-age=\") == 0)\r\n          )\r\n            res.cache = headers.cache;\r\n          else if (\r\n            this.type == \"FETCH\" &&\r\n            [\r\n              \"default\",\r\n              \"no-store\",\r\n              \"no-cache\",\r\n              \"reload\",\r\n              \"force-cache\",\r\n              \"only-if-cached\",\r\n            ].indexOf(headers.cache) != -1\r\n          )\r\n            res.cache = headers.cache;\r\n          else\r\n            console.warn(\r\n              \"You are using inproperiate values for ``cache`` attribute!\"\r\n            );\r\n      }\r\n\r\n      if (headers.cookie) res.cookie = headers.cookie;\r\n      if (headers.referer) res.referer = headers.referer;\r\n      if (headers.origin) res.origin = headers.origin;\r\n      if (headers.lang) res.lang = headers.lang;\r\n      if (headers.authorize) res.authorize = headers.authorize;\r\n      if (typeof headers.frame === \"boolean\")\r\n        res.frame = headers.frame === true ? \"SAMEORIGIN\" : \"DENY\";\r\n      if (headers.nosniff === true) res.nosniff = headers.nosniff;\r\n      if (headers.contentType) res.contentType = headers.contentType;\r\n      request.headers = res;\r\n      return this;\r\n    },\r\n    launch: function (data, dontUsePreventer) {\r\n      const { headers } = request;\r\n      let contentType = request.headers.contentType;\r\n      let result = {\r\n        result: null,\r\n        response: null,\r\n        headers: null,\r\n        contentType: null,\r\n      };\r\n\r\n      if (dontUsePreventer !== true && jcall.preventer) jcall.preventer.open();\r\n      return new Promise((res, rej) => {\r\n        let _this = this;\r\n        // deciding the way to send data\r\n        if (!(data instanceof FormData)) {\r\n          if (typeof data === \"string\") contentType = \"text/plain\";\r\n          else if (isObjectLiteral(data) === true) {\r\n            contentType = \"application/json\";\r\n            data = JSON.stringify(data);\r\n          } else ;\r\n        }\r\n\r\n        if (this.type === \"XHR\") {\r\n          // ---------- SENDING XMLHttpRequest\r\n          let xhr = new XMLHttpRequest();\r\n          this.xhr = xhr;\r\n          xhr.open(request.method || \"post\", request.api);\r\n          xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n\r\n          xhr.upload.onprogress = function (e) {\r\n            e.percent = (e.loaded / e.total) * 100;\r\n            if (typeof _this.progress == \"function\") _this.progress(e);\r\n          };\r\n          // some properties\r\n          if (typeof request.credentials == \"boolean\")\r\n            xhr.withCredentials = request.credentials;\r\n          xhr.timeout = request.timeout;\r\n          xhr.responseType = \"json\";\r\n\r\n          // some headers\r\n          if (request.csrf) xhr.setRequestHeader(\"X-CSRF-TOKEN\", request.csrf);\r\n          if (contentType) xhr.setRequestHeader(\"Content-Type\", contentType);\r\n          if (headers.accept) xhr.setRequestHeader(\"Accept\", headers.accept);\r\n          if (headers.cache)\r\n            xhr.setRequestHeader(\"Cache-Control\", headers.cache);\r\n          if (headers.cookie) xhr.setRequestHeader(\"Cookie\", headers.cookie);\r\n          if (headers.referer) xhr.setRequestHeader(\"Referer\", headers.referer);\r\n          if (headers.origin) xhr.setRequestHeader(\"Origin\", headers.origin);\r\n          if (headers.lang)\r\n            xhr.setRequestHeader(\"Accept-Language\", headers.lang);\r\n          if (headers.authorize)\r\n            xhr.setRequestHeader(\"Authorization\", headers.authorize);\r\n          if (headers.frame)\r\n            xhr.setRequestHeader(\"X-Frame-Options\", headers.frame);\r\n          if (headers.nosniff === true)\r\n            xhr.setRequestHeader(\"X-Content-Type-Options\", \"nosniff\");\r\n\r\n          xhr.onreadystatechange = function (e) {\r\n            if (this.readyState == 4) {\r\n              result.headers = getHeaders(this.getAllResponseHeaders());\r\n              if (jcall.preventer) jcall.preventer.close();\r\n              if (this.status == 200)\r\n                try {\r\n                  result.result = JSON.parse(this.response);\r\n                  result.response = this.response;\r\n                  res(result);\r\n                } catch (e) {\r\n                  rej(\"ServerSide Error\", this.responseText, this, e);\r\n                }\r\n              else {\r\n                endStatus(\r\n                  this.status,\r\n                  this.statusText,\r\n                  this.response,\r\n                  rej);\r\n              }\r\n            }\r\n          };\r\n          xhr.onerror = function (e) {\r\n            if (jcall.preventer) jcall.preventer.close();\r\n            rej(\"error\", e, this);\r\n          };\r\n          xhr.ontimeout = function (e) {\r\n            if (jcall.preventer) jcall.preventer.close();\r\n            rej(\"timeout\", e, this);\r\n          };\r\n          xhr.onabort = function (e) {\r\n            if (jcall.preventer) jcall.preventer.close();\r\n            rej(\"abort\", e, this);\r\n          };\r\n          xhr.onprogress = function (e) {\r\n            e.percent = (e.loaded / e.total) * 100;\r\n            if (typeof _this.progress == \"function\") _this.progress(e);\r\n          };\r\n\r\n          xhr.send(data);\r\n        } else {\r\n          // ---------- FETCH request\r\n          let timeoutId;\r\n          if (request.timeout != 0 && request.timeout != 0) {\r\n            timeoutId = setTimeout(function () {\r\n              if (jcall.preventer) jcall.preventer.close();\r\n              _this.abort();\r\n            }, request.timeout);\r\n          }\r\n          request.body = data;\r\n          request.signal = abortController.signal;\r\n          request.credentials =\r\n            request.credentials === true ? \"include\" : \"omit\";\r\n          if (contentType) request.headers[\"Content-Type\"] = contentType;\r\n          if (request.headers.authorize)\r\n            request.headers[\"Authorization\"] = request.headers.authorize;\r\n          if (request.csrf) request.headers[\"X-CSRF-TOKEN\"] = request.csrf;\r\n\r\n          request.cache = fetch(request.api, request)\r\n            .then(async (response) => {\r\n              const { ok, status, statusText, type, headers } = response;\r\n              // clearing timeout\r\n              clearTimeout(timeoutId);\r\n              if (jcall.preventer) jcall.preventer.close();\r\n              if (!ok) {\r\n                endStatus(status, statusText, await response.json(), rej);\r\n                return;\r\n              }\r\n              let contentType = headers.get(\"Content-Type\").split(\";\")[0];\r\n              result[\"headers\"] = getHeaders(headers);\r\n              result[\"contentType\"] = contentType;\r\n              result[\"response\"] = response;\r\n\r\n              if (contentType.includes(\"application/json\")) {\r\n                result[\"result\"] = await response.json();\r\n                return res(result);\r\n              } else if (\r\n                contentType.includes(\"text/html\") ||\r\n                contentType.includes(\"text/plain\")\r\n              ) {\r\n                result[\"result\"] = await response.text();\r\n                return res(result);\r\n              } else if (\r\n                contentType.includes(\"image\") ||\r\n                contentType.includes(\"application/pdf\")\r\n              )\r\n                return response.blob();\r\n              else return response.arrayBuffer();\r\n            })\r\n            .then(async (data) => {\r\n              if (data instanceof Blob) {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(blob);\r\n                reader.onloadend = () => {\r\n                  res(reader.result);\r\n                };\r\n              }\r\n            })\r\n            .catch((e) => {\r\n              if (jcall.preventer) jcall.preventer.close();\r\n              clearTimeout(timeoutId);\r\n              // internet connection or CORS error\r\n              if (e.name === \"AbortError\") return rej(\"timeout\");\r\n\r\n              rej(\"error\", e);\r\n            });\r\n        }\r\n      }).finally((res) => {\r\n        if (jcall.after) jcall.after(res);\r\n      });\r\n    },\r\n    abort: function (msg) {\r\n      if (this.request.type == \"XHR\") {\r\n        this.xhr.abort();\r\n      } else abortController.abort(msg);\r\n    },\r\n  };\r\n\r\n  // sealing so no modifications or adding any attributes is possible anymore\r\n  control = Object.seal(control);\r\n\r\n  return control;\r\n}\r\n\r\n/**\r\n * Cross-Site Request Forgery token used to avoid the danger of this attack.\r\n * If defined will be included within each request.\r\n * @type {String}\r\n */\r\njcall.csrf = null; // used in each jcall call if defined\r\n\r\n/**\r\n * Authorization token used to allow access for your API, when secured within\r\n * login system. Read more about it!\r\n * If defined will be included within each request.\r\n * @type {String}\r\n */\r\njcall.authorization = null; // used in each jcall call if defined\r\n\r\n/**\r\n * An after callback will be executed after all requests.\r\n * you can use this to automate csrf cycle configuration!\r\n */\r\njcall.after = local_noop;\r\n\r\n/**\r\n * Used to prevent user interactions while request is being handled\r\n * server side. the prevent element must contain this functions\r\n *  - .open() : to open/display the preventer\r\n *  - .close() : to close/hide the preventer\r\n * @type {HTMLDivElement}\r\n */\r\njcall.preventer = null;\r\n\r\n/**\r\n * Powerfull function allows you to convert a regular submitable form into an jcall based\r\n * call, offering a customizable interface for maximum creativity and flex control!\r\n *\r\n * @param {HTMLFormElement} form the form to jcallify\r\n * @param {Object} options [Optional] options\r\n */\r\njcall.jcallify = function (form, options) {\r\n  let getAPI = null,\r\n    getDATA = null,\r\n    errorCb = local_noop,\r\n    successCb = local_noop;\r\n  let handle = {\r\n    /**\r\n     * Define a function that get a custom API/url(of the request) trick for more customized experience\r\n     * @param {() => (form: HTMLFormElement, api: String)} cb\r\n     */\r\n    api: function (cb) {\r\n      getAPI = cb;\r\n      return this;\r\n    },\r\n    /**\r\n     * Define a function that get a custom data object\r\n     * @param {() => (form: HTMLFormElement, data: FormData)} cb\r\n     */\r\n    data: function (cb) {\r\n      getDATA = cb;\r\n      return this;\r\n    },\r\n    /**\r\n     * Define a handler function\r\n     * @param {function} cb\r\n     */\r\n    success: function (cb) {\r\n      successCb = cb;\r\n      return this;\r\n    },\r\n    /**\r\n     * Define error handler function\r\n     * @param {function} cb\r\n     */\r\n    error: function (cb) {\r\n      errorCb = cb;\r\n      return this;\r\n    },\r\n  };\r\n  if (form instanceof HTMLFormElement) {\r\n    // let's make sure the form is setup well\r\n\r\n    form.addEventListener(\"submit\", function (e) {\r\n      e.preventDefault(); // preventing default behavior\r\n      let method = form.getAttribute(\"method\") || \"post\";\r\n\r\n      // preparing the API\r\n      let api = this.getAttribute(\"action\");\r\n      if (getAPI != null) api = getAPI(this, api);\r\n      if (!api)\r\n        throw new Error(\r\n          \"Bad setup!\\nplease include the action attribute in the form\"\r\n        );\r\n\r\n      // preparing the Data\r\n      let data = new FormData(this);\r\n      if (getDATA != null) data = getDATA(this, data);\r\n\r\n      jcall(api, {\r\n        method,\r\n      })\r\n        .launch(data)\r\n        .then((res) => {\r\n          successCb(res);\r\n        })\r\n        .catch((e) => errorCb(e));\r\n    });\r\n  }\r\n\r\n  return handle;\r\n};\r\n\r\n// globally exposed\r\nwindow.jcall = jcall;\n\nexport { jcall as default };\n//# sourceMappingURL=jcall.esm.js.map\n","import jcall from \"jcall\";\r\n\r\n/**\r\n * @typedef {Object} AttrMap\r\n * @property {HTMLDivElement} parent - append newly created element to a parent\r\n * @property {Array<String>|String} class - class or array of classes to set \r\n * @property {String} id - set element ID\r\n * @property {Object} data - dataset values to set\r\n * @property {String} text - set element text\r\n * @property {String} html - set element html\r\n * @property {{ request: String, data: Object, callback: Function}} refresh - attached a refreshable context\r\n * \r\n */\r\n\r\n\r\n/**\r\n * @typedef {Object} EyeElement\r\n * @property {(tag: String, attrs: AttrMap) => EyeElement} eye - The main function to create or select elements.\r\n * @property {(set_to?: string) => EyeElement} show - Show the element, optional customize the display value, inline-bloc, bloc.... .\r\n * @property {() => EyeElement} hide - Hide the element.\r\n * @property {(index: number) => EyeElement} child - Function to get a child element by index.\r\n * @property {(key: String, value: *) => EyeElement} refer - Set or get a hidden WeakMap attributes\r\n * @property {(key: String, subfind: number) => EyeElement} unrefer - Remove/unset a WeakMap attributes, optionally `subfind` it if array is set!\r\n * @property {(event: String, callback: Function) => EyeElement} on - Attach an event listener to `event`\r\n * @property {(parent: HTMLElement) => EyeElement} appendTo - Append this element to an other\r\n * @property {(key: String, value: String) => EyeElement|String} attr - Set or get a value of certain attribute\r\n * @property {(key: String, value: String) => EyeElement|string} css - Modify or get element style\r\n * @property {(key: string, value: string) => DOMStringMap|string} data - Set or get a dataset value of the attribute\r\n * @property {Function} [eventName] - Functions for various events (e.g., click, focus, etc.).\r\n * @property {boolean} isEyeInstance - Flag to check if the element is an Eye instance.\r\n * @property {(action: String, value: String, opt?: String)=> boolean} class - perform class manipulation\r\n * @property {*} refresh - under consrtuction\r\n */\r\n\r\n\r\nconst events = [\r\n  // Mouse Events\r\n  \"click\",\r\n  \"dblclick\",\r\n  \"mousedown\",\r\n  \"mouseup\",\r\n  \"mousemove\",\r\n  \"mouseenter\",\r\n  \"mouseleave\",\r\n  \"mouseover\",\r\n  \"mouseout\",\r\n  \"contextmenu\",\r\n\r\n  // Keyboard Events\r\n  \"keydown\",\r\n  \"keypress\", // Deprecated\r\n  \"keyup\",\r\n\r\n  // Focus Events\r\n  \"focus\",\r\n  \"blur\",\r\n  \"focusin\",\r\n  \"focusout\",\r\n\r\n  // Form Events\r\n  \"submit\",\r\n  \"change\",\r\n  \"input\",\r\n  \"reset\",\r\n  \"select\",\r\n\r\n  // Touch Events (for mobile)\r\n  \"touchstart\",\r\n  \"touchend\",\r\n  \"touchmove\",\r\n  \"touchcancel\",\r\n\r\n  // Pointer Events\r\n  \"pointerdown\",\r\n  \"pointerup\",\r\n  \"pointermove\",\r\n  \"pointerenter\",\r\n  \"pointerleave\",\r\n  \"pointercancel\",\r\n\r\n  // Drag and Drop Events\r\n  \"dragstart\",\r\n  \"dragend\",\r\n  \"dragenter\",\r\n  \"dragover\",\r\n  \"dragleave\",\r\n  \"drop\",\r\n\r\n  // Window/Document Events\r\n  \"resize\",\r\n  \"scroll\",\r\n  \"load\",\r\n  \"beforeunload\",\r\n  \"unload\",\r\n\r\n  // Media Events\r\n  \"play\",\r\n  \"pause\",\r\n  \"ended\",\r\n  \"volumechange\",\r\n  \"timeupdate\",\r\n\r\n  // Clipboard Events\r\n  \"copy\",\r\n  \"cut\",\r\n  \"paste\",\r\n\r\n  // Animation and Transition Events\r\n  \"animationstart\",\r\n  \"animationend\",\r\n  \"animationiteration\",\r\n  \"transitionstart\",\r\n  \"transitionend\",\r\n\r\n  // Mutation Events\r\n  \"DOMSubtreeModified\",\r\n  \"DOMNodeInserted\",\r\n  \"DOMNodeRemoved\",\r\n\r\n  // Other Events\r\n  \"error\",\r\n  \"hashchange\",\r\n  \"popstate\",\r\n];\r\nconst triggerableEvents = [\"click\", \"focus\", \"blur\", \"play\", \"pause\", \"submit\"];\r\n\r\nconst htmlElements = [\r\n  // Metadata\r\n  \"base\",\r\n  \"head\",\r\n  \"link\",\r\n  \"meta\",\r\n  \"style\",\r\n  \"title\",\r\n\r\n  // Sections\r\n  \"body\",\r\n  \"address\",\r\n  \"article\",\r\n  \"aside\",\r\n  \"footer\",\r\n  \"header\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n  \"h6\",\r\n  \"main\",\r\n  \"nav\",\r\n  \"section\",\r\n\r\n  // Text content\r\n  \"blockquote\",\r\n  \"dd\",\r\n  \"div\",\r\n  \"dl\",\r\n  \"dt\",\r\n  \"figcaption\",\r\n  \"figure\",\r\n  \"hr\",\r\n  \"li\",\r\n  \"ol\",\r\n  \"p\",\r\n  \"pre\",\r\n  \"ul\",\r\n\r\n  // Inline text semantics\r\n  \"a\",\r\n  \"abbr\",\r\n  \"b\",\r\n  \"bdi\",\r\n  \"bdo\",\r\n  \"br\",\r\n  \"cite\",\r\n  \"code\",\r\n  \"data\",\r\n  \"dfn\",\r\n  \"em\",\r\n  \"i\",\r\n  \"kbd\",\r\n  \"mark\",\r\n  \"q\",\r\n  \"rp\",\r\n  \"rt\",\r\n  \"ruby\",\r\n  \"s\",\r\n  \"samp\",\r\n  \"small\",\r\n  \"span\",\r\n  \"strong\",\r\n  \"sub\",\r\n  \"sup\",\r\n  \"time\",\r\n  \"u\",\r\n  \"var\",\r\n  \"wbr\",\r\n\r\n  // Image and multimedia\r\n  \"area\",\r\n  \"audio\",\r\n  \"img\",\r\n  \"map\",\r\n  \"track\",\r\n  \"video\",\r\n\r\n  // Embedded content\r\n  \"embed\",\r\n  \"iframe\",\r\n  \"object\",\r\n  \"picture\",\r\n  \"portal\",\r\n  \"source\",\r\n\r\n  // Scripting\r\n  \"canvas\",\r\n  \"noscript\",\r\n  \"script\",\r\n\r\n  // Demarcating edits\r\n  \"del\",\r\n  \"ins\",\r\n\r\n  // Table content\r\n  \"caption\",\r\n  \"col\",\r\n  \"colgroup\",\r\n  \"table\",\r\n  \"tbody\",\r\n  \"td\",\r\n  \"tfoot\",\r\n  \"th\",\r\n  \"thead\",\r\n  \"tr\",\r\n\r\n  // Forms\r\n  \"button\",\r\n  \"datalist\",\r\n  \"fieldset\",\r\n  \"form\",\r\n  \"input\",\r\n  \"label\",\r\n  \"legend\",\r\n  \"meter\",\r\n  \"optgroup\",\r\n  \"option\",\r\n  \"output\",\r\n  \"progress\",\r\n  \"select\",\r\n  \"textarea\",\r\n\r\n  // Interactive elements\r\n  \"details\",\r\n  \"dialog\",\r\n  \"summary\",\r\n\r\n  // Web components / scripting base\r\n  \"slot\",\r\n  \"template\",\r\n];\r\nconst hiddenAttributes = new WeakMap();\r\n\r\nfunction flat(word) {\r\n  let n = \"\";\r\n  for (let i = 0; i < word.length; i++) {\r\n    const t = word[i];\r\n    if (t === t.toUpperCase() && t !== t.toLowerCase()) n += \"-\" + t;\r\n    else n += t;\r\n  }\r\n  return n.toLowerCase();\r\n}\r\n/**\r\n * Creates or select nodes using css selectors, offering a pack of useful functions to use around your code!\r\n * @param {String} tag \r\n * @param {AttrMap} attrs \r\n * @param {*} css CSS styles to be applied to the element.\r\n * @returns \r\n */\r\nfunction eye(tag, attrs, css) {\r\n  if (css instanceof Array) children = css;\r\n  /**\r\n   * @type {EyeElement}\r\n   */\r\n  let elm,\r\n    selectFunc = \"querySelector\",\r\n    parent = this === undefined || this instanceof Window ? document : this;\r\n\r\n  if (tag instanceof HTMLElement) elm = tag;\r\n  else {\r\n    // there is three cases\r\n    if (attrs && attrs.all === true)\r\n      // CASE 1: parent is not docuement & all=true\r\n      selectFunc = \"querySelectorAll\";\r\n    if (parent == document && htmlElements.indexOf(tag) != -1)\r\n      // CASE 3: parent is document & user input a tag name\r\n      selectFunc = \"createElement\";\r\n\r\n    elm = parent[selectFunc](tag);\r\n  }\r\n\r\n  if (elm instanceof NodeList) {\r\n    elm.forEach((nd) => eye(nd));\r\n    // for nodelist there's some other available functions\r\n    return [...elm];\r\n  }\r\n\r\n  if (!elm) return null;\r\n  if (elm.isEyeInstance) return elm;\r\n\r\n  elm.isEyeInstance = true;\r\n  // adding a very special function\r\n  elm.eye = eye;\r\n\r\n  // adding the element itself\r\n  // usuage:\r\n  // item.set(\"id=menu-item\",\"contentEditable=true\",\"data-index=15\",...);\r\n  elm.set = function (value, ...args) {\r\n    args.push(value);\r\n    args.forEach((arg) => {\r\n      if (arg.indexOf(\"=\") != -1) {\r\n        const [key, val] = arg.split(\"=\");\r\n        if (key.indexOf('data-') === 0) {\r\n          this.dataset[flat(key.replace('data-', ''))] = val;\r\n        } else {\r\n          this.setAttribute(key, val);\r\n        }\r\n      } else if (arg.indexOf(\":\") != -1) {\r\n        const [key, val] = arg.split(\":\");\r\n        this.style[flat(key)] = val;\r\n      } else this.setAttribute(arg, \"\");\r\n    });\r\n\r\n    return this;\r\n  }\r\n\r\n  elm.class = function (action, value, opt) {\r\n    if (!value) {\r\n      // single param\r\n      // maybe using some intelligent markup? (%-)\r\n      // possible markup\r\n      // \"-classname\" remove classname\r\n      // \"%classname\" toggle classname\r\n      // \"?classname\" contains? classname\r\n      // \"oldclass/newclass\" replace oldclass by newclass\r\n      // number(1,2,3..) returns the class at the specified index\r\n      // \"classname\" add classname\r\n      if (typeof action === \"number\") {\r\n        value = action;\r\n        action = \"get\";\r\n      } else if (action[0] == \"-\") {\r\n        value = action.substring(1, action.length);\r\n        action = \"remove\";\r\n      } else if (action[0] == \"%\") {\r\n        value = action.substring(1, action.length);\r\n        action = \"toggle\";\r\n      } else if (action[0] == \"?\") {\r\n        value = action.substring(1, action.length);\r\n        action = \"contains\";\r\n      } else if (action.indexOf('/') != -1) {\r\n        [value, opt] = action.split('/');\r\n        action = \"replace\";\r\n      } else {\r\n        value = action;\r\n        action = \"add\";\r\n      }\r\n    }\r\n\r\n    let result = false;\r\n    switch (action) {\r\n      case \"add\":\r\n        this.classList.add(value.substring(1, value.length));\r\n        result = true;\r\n        break;\r\n      case \"remove\":\r\n        this.classList.remove(value.substring(1, value.length));\r\n        result = true;\r\n        break;\r\n      case \"toggle\":\r\n        this.classList.toggle(value.substring(1, value.length), true);\r\n        result = true;\r\n        break;\r\n      case \"replace\":\r\n        this.classList.replace(value.substring(1, value.length), opt);\r\n        result = true;\r\n        break;\r\n      case \"contains\":\r\n        result = this.classList.contains(value.substring(1, value.length));\r\n        break;\r\n      case \"get\":\r\n        result = this.classList.item(value);\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  elm.show = function (set_to) {\r\n    this.style.display = set_to || \"\";\r\n    return this;\r\n  };\r\n\r\n  elm.hide = function () {\r\n    this.style.display = \"none\";\r\n    return this;\r\n  };\r\n\r\n  elm.child = function (index) {\r\n    return this.children[index] ? eye(this.children[index]) : null;\r\n  };\r\n\r\n  elm.refer = function (key, value) {\r\n    if (value !== undefined) {\r\n      let attr = hiddenAttributes.get(this);\r\n      if (!attr) {\r\n        attr = {};\r\n        hiddenAttributes.set(this, attr);\r\n      }\r\n\r\n      // now a small check\r\n      if (value instanceof Array) {\r\n        // if value is instance of array means we're defining an array property of adding to one\r\n        if (attr[key] instanceof Array) attr[key].push(value[0]);\r\n        else attr[key] = [value[0]];\r\n      } else attr[key] = value;\r\n      return this;\r\n    } else return hiddenAttributes.get(this)?.[key];\r\n  };\r\n  elm.unrefer = function (key, subfind) {\r\n    let attr = hiddenAttributes.get(this);\r\n    if (attr) {\r\n      if (!subfind && typeof key === \"string\" && attr[key])\r\n        attr[key] = undefined;\r\n      else if (typeof subfind === \"function\" && attr[key] instanceof Array)\r\n        attr[key].forEach((item, i, arr) => {\r\n          if (subfind(item) === true) {\r\n            arr.splice(i, 1);\r\n            i--;\r\n          }\r\n        });\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  // re-assinging events handling system\r\n  events.forEach((ev) => {\r\n    var old;\r\n    if (typeof elm[ev] == \"function\") {\r\n      old = elm[ev];\r\n    }\r\n    elm[ev] = function (cb) {\r\n      if (cb) {\r\n        if (typeof cb == \"function\") elm.addEventListener(ev, cb);\r\n      } else old.call(elm);\r\n      return this;\r\n    };\r\n  });\r\n\r\n  elm.on = function (evs, listener) {\r\n    evs = evs.split(' ');\r\n    for (let j = 0; j < evs.length; j++) elm.addEventListener(evs[j], listener);\r\n    return this;\r\n  };\r\n\r\n  elm.appendTo = function (parent) {\r\n    if (parent) parent.append(this);\r\n    return this;\r\n  };\r\n\r\n  elm.attr = function (key, value) {\r\n    if (key) {\r\n      if (value) this.setAttribute(key, value);\r\n      else return this.getAttribute(key);\r\n    }\r\n    return this;\r\n  };\r\n\r\n  elm.css = function (key, value) {\r\n    // usuage is wide customizable\r\n    if (key) {\r\n      if (value) elm.style[flat(key)] = value;\r\n      return this.style[flat(key)];\r\n    }\r\n    return this;\r\n  }\r\n\r\n  elm.data = function (key, value) {\r\n    if (key) {\r\n      if (value) this.dataset[key] = value;\r\n      else return this.dataset[key];\r\n    }\r\n    return this.dataset;\r\n  }\r\n\r\n  elm.text = function (value) {\r\n    if (value) this.textContent = value;\r\n    else return this.textContent;\r\n    return this\r\n  }\r\n\r\n  elm.html = function (value) {\r\n    if (value) this.innerHTML = value;\r\n    else return this.innerHTML;\r\n    return this\r\n  }\r\n\r\n  // setting attributes & css\r\n  let parentElm = null;\r\n  // let refresh = null;\r\n  if (attrs)\r\n    for (const key in attrs) {\r\n      const value = attrs[key];\r\n      if (key == \"class\")\r\n        elm.classList.add.apply(\r\n          elm.classList,\r\n          value instanceof Array ? value : [value]\r\n        );\r\n      else if (key == \"text\") elm.textContent = value;\r\n      else if (key == \"html\") elm.innerHTML = value;\r\n      else if (key == \"data\") for (const k in value) elm.dataset[k] = value[k];\r\n      else if (key == \"parent\") parentElm = value;\r\n      // else if (key == \"refresh\") refresh = value;\r\n      else if (key in elm) elm[key] = value;\r\n      else elm.setAttribute(key, elm);\r\n    }\r\n  if (css)\r\n    for (const key in css)\r\n      if (key.indexOf(\"-\") != -1) elm.style[key] = css[key];\r\n      else elm.style[flat(key)] = css[key];\r\n\r\n\r\n  // under construction\r\n  // elm.refresh = function () {\r\n  //   if (refresh) {\r\n  //     const { request, data, callback } = refresh;\r\n  //     if (typeof data === \"function\") data = data();\r\n  //     jcall(request)\r\n  //       .launch(data)\r\n  //       .then(res => {\r\n  //         callback(undefined, res);\r\n  //       }).catch(e => {\r\n  //         callback(e);\r\n  //       })\r\n  //   }\r\n  // }\r\n\r\n  if (parentElm) parentElm.append(elm);\r\n  return elm;\r\n}\r\n\r\n// gloablly exposed\r\nwindow.eye = eye;\r\nexport default eye;\r\n"],"names":["METHODS","local_noop","FETCH_SUPPORT","fetch","FetchError","Error","constructor","message","status","statusText","response","super","this","name","stack","getHeaders","object","headers","trim","split","forEach","line","parts","header","shift","value","join","toLowerCase","entries","key","jcall","api","options","method","timeout","credentials","csrf","useXHR","preventer","div","document","createElement","style","backgroundColor","position","zIndex","left","top","width","height","display","open","close","abortController","AbortController","request","indexOf","signal","endStatus","reject","resolve","authorization","control","type","progress","setHeaders","res","accept","cache","console","warn","cookie","referer","origin","lang","authorize","frame","nosniff","contentType","launch","data","dontUsePreventer","result","Promise","rej","_this","obj","FormData","Object","prototype","toString","call","JSON","stringify","xhr","XMLHttpRequest","setRequestHeader","upload","onprogress","e","percent","loaded","total","withCredentials","responseType","onreadystatechange","readyState","getAllResponseHeaders","parse","responseText","onerror","ontimeout","onabort","send","timeoutId","setTimeout","abort","body","then","async","ok","clearTimeout","json","get","includes","text","blob","arrayBuffer","Blob","reader","FileReader","readAsDataURL","onloadend","catch","finally","after","msg","seal","jcallify","form","getAPI","getDATA","errorCb","successCb","handle","cb","success","error","HTMLFormElement","addEventListener","preventDefault","getAttribute","window","events","htmlElements","hiddenAttributes","WeakMap","flat","word","n","i","length","t","toUpperCase","eye","tag","attrs","css","Array","children","elm","selectFunc","parent","undefined","Window","HTMLElement","all","NodeList","nd","isEyeInstance","set","args","push","arg","val","dataset","replace","setAttribute","class","action","opt","substring","classList","add","remove","toggle","contains","item","show","set_to","hide","child","index","refer","attr","unrefer","subfind","arr","splice","ev","old","on","evs","listener","j","appendTo","append","textContent","html","innerHTML","parentElm","apply","k"],"mappings":"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AAO1H,MAAQA,EC1jBf,MAAM2H,EAAS,CAEb,QACA,WACA,YACA,UACA,YACA,aACA,aACA,YACA,WACA,cAGA,UACA,WACA,QAGA,QACA,OACA,UACA,WAGA,SACA,SACA,QACA,QACA,SAGA,aACA,WACA,YACA,cAGA,cACA,YACA,cACA,eACA,eACA,gBAGA,YACA,UACA,YACA,WACA,YACA,OAGA,SACA,SACA,OACA,eACA,SAGA,OACA,QACA,QACA,eACA,aAGA,OACA,MACA,QAGA,iBACA,eACA,qBACA,kBACA,gBAGA,qBACA,kBACA,iBAGA,QACA,aACA,YAIIC,EAAe,CAEnB,OACA,OACA,OACA,OACA,QACA,QAGA,OACA,UACA,UACA,QACA,SACA,SACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,MACA,UAGA,aACA,KACA,MACA,KACA,KACA,aACA,SACA,KACA,KACA,KACA,IACA,MACA,KAGA,IACA,OACA,IACA,MACA,MACA,KACA,OACA,OACA,OACA,MACA,KACA,IACA,MACA,OACA,IACA,KACA,KACA,OACA,IACA,OACA,QACA,OACA,SACA,MACA,MACA,OACA,IACA,MACA,MAGA,OACA,QACA,MACA,MACA,QACA,QAGA,QACA,SACA,SACA,UACA,SACA,SAGA,SACA,WACA,SAGA,MACA,MAGA,UACA,MACA,WACA,QACA,QACA,KACA,QACA,KACA,QACA,KAGA,SACA,WACA,WACA,OACA,QACA,QACA,SACA,QACA,WACA,SACA,SACA,WACA,SACA,WAGA,UACA,SACA,UAGA,OACA,YAEIC,EAAmB,IAAIC,QAE7B,SAASC,EAAKC,GACZ,IAAIC,EAAI,GACR,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAK,CACpC,MAAME,EAAIJ,EAAKE,GACXE,IAAMA,EAAEC,eAAiBD,IAAMA,EAAEvI,cAAeoI,GAAK,IAAMG,EAC1DH,GAAKG,CACX,CACD,OAAOH,EAAEpI,aACX,CAQA,SAASyI,EAAIC,EAAKC,EAAOC,GACnBA,aAAeC,QAAOC,SAAWF,GAIrC,IAAIG,EACF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","x_google_ignoreList":[0]}